<!DOCTYPE html>
<html lang="en">
    <head> 
        <meta charset="UTF-8"/>
        <meta http-equiv="X-UA-Compatible" content="IE-edge"/>
        <meta name="viewport" 
        content="width=device-width, initial-scale=1.0"/>
    <link rel="stylesheet" href="CSS/STYLE - ADMIN.css"/>
    </head>
    <body>
    
    <!--Main container-->
    <img src="IMAGES/Bgndmu.jpg" class="parent"> 

    <!--Logo-->
    <div class="logo-Border"></div>
    <img src="IMAGES/Hiram_Logo1.png" class="Logo">     

    <!--Header elements-->
    <div class="hero">
		<nav>
			<img src="IMAGES/Hiram_Logo1.png" class="logoHead ">
            &nbsp &nbsp
            <div class="welcome"> &nbsp Welcome</div>
            <div class="admin"> &nbsp Admin</div>
			<ul>
				<li><a href="#" onclick="togglePop()" class="about">About</a></li>
			</ul>
			<img src="IMAGES/profile.png" class="user-pic" onclick="toggleMenu()"> 
		
    <!--Dropdown menu for profile-->		
		<div class="sub-menu-wrap" id="subMenu">
		<div class="sub-menu">
		<div class="user-info">
		<img src="IMAGES/profile.png">
		<h3> Hiram Lender </h3>
		</div>
		<hr>
		
		<a href="#" class="sub-menu-link">
			<img src="IMAGES/profile.png" onclick="togglePop2()">
			<p onclick="togglePop2()"> Edit Profile</p>
			<span>></span>
		</a>

		<a href="#" class="sub-menu-link">
			<img src="IMAGES/help.jpg" onclick="togglePop1()">
			<p onclick="togglePop1()"> Help & Support</p>
			<span>></span>
		</a>
		<a href="#" class="sub-menu-link">
			<img src="IMAGES/logout.png" onclick="switchPage('Hiram2.html')">
			<p onclick="switchPage('Hiram2.html')"> Logout</p>
			<span>></span>
		</a>
		</div>
		</div>
		</nav>
	</div>
	
	<!-- Pop-up for About page -->
	<div class="aboutPop" id="popup"> 
    <div class="overlay" onclick="togglePop()"> </div>
    <div class="content">
        <div class="close1" onclick="togglePop()"> &times; </div>
        <h1> About HIRAM </h1>
        <br>
        <p>
            ❝At HIRAM, we aim to foster a supportive and resourceful environment by encouraging sharing and collaboration among students.❞<br>
            Our goal is to make borrowing easy, efficient, and accessible for everyone.<br>
            <br>
            <b>Why Choose HIRAM?</b> <br>
			<br>
            <b>① User-Friendly:</b> Our platform is designed with simplicity in mind, borrow and lend items effortlessly. <br>
            <br>
            <b>② Community Driven:</b> Connect with classmates and faculty who are ready to lend a helping hand. <br>
            <br>
		
            <b>③ Sustainable Sharing:</b> Reduce waste and promote sustainability by borrowing instead of buying. <br>
            <br>
            <b><i>"Join us in creating a more connected and resourceful school community. Start borrowing today with HIRAM!"</i></b>
        </p>
		<ul class="slideshow">  
            <li style="background-image: url('IMAGES/Hiram_element1.jpg');"></li>
			<li style="background-image: url('IMAGES/Hiram_handing.jpg');"></li>
			<li style="background-image: url('IMAGES/Hiram_phone.jpg');"></li>
            <li></li>
        </ul>
 
    </div>
</div>
	
	<!-- Pop-up for Help and support page -->
	<div class="learnPop" id="popup1">
  <div class="overlay1" onclick="togglePop1()"></div>
  <div class="content1">
    <div class="close2" onclick="togglePop1()">&times;</div>
    <h1 style="font-size: 36px; font-weight: bold;">Need Help?</h1>
    <p style="font-size: 24px; margin-bottom: 20px;">
      If you have any questions or need assistance, please reach out to the following contacts:
    </p>
    <ul style="font-size: 22px; list-style: none; padding: 0; margin: 0;">
      <li style="margin-bottom: 15px;">
        <strong>Technical Support:</strong>
        <span>Robert Andulana - </span>
        <a href="mailto:rpandulana.sacisd@gmail.com">rpandulana.sacisd@gmail.com</a>
      </li>
      <li style="margin-bottom: 15px;">
        <strong>Technical Support:</strong>
        <span>Jeric Ryan Caday - </span>
        <a href="mailto:jericryancaday247@gmail.com">jericryancaday247@gmail.com</a>
      </li>
      <li style="margin-bottom: 15px;">
        <strong>Account Issues:</strong>
        <span>Louise Sofe Ayco - </span>
        <a href="mailto:LouiseSofeAyco@gmail.com">LouiseSofeAyco@gmail.com</a>
      </li>
      <li style="margin-bottom: 15px;">
        <strong>General Inquiries:</strong>
        <span>Jero Joash Betonio - </span>
        <a href="mailto:jazebetonio@gmail.com">jazebetonio@gmail.com</a>
      </li>
      <li style="margin-bottom: 15px;">
        <strong>Phone:</strong> +639 9521 793 47
      </li>
      <li>
        <strong>Email:</strong> 
        <a href="mailto:support@hiram.edu">support@hiram.edu</a>
      </li>
    </ul>
    <p style="font-size: 24px; margin-top: 20px;">We are here to help!</p>
  </div>
</div>

    <!-- Pop-up for Edit profile page -->
	<div class="editPop" id="popup2"> 
	<div class="overlay2" onclick="togglePop2()"> </div>
	<div class="content2">
	<div class="close3" onclick="togglePop2()"> &times; </div>
	<h1> Edit Profile </h1>
    <img src="profile.png" onclick="changeImage()" class="changePic">
    <div class="UserName">
        <div class="entry">
            <input type="text" class="input" required>
            <div class="label">Name:</div>
        </div>
    </div>

    <div class="IDnum">
        <div class="entry">
            <input type="text" class="input" required>
            <div class="label">ID number: </div>
        </div>
        </div>

    <div class="Department">
        <div class="entry">
            <input type="text" class="input" required>
            <div class="label">Department:</div>
        </div>
     </div>

    <div class="Course">
        <div class="entry">
            <input type="text" class="input" required>
            <div class="label">Course and Year:</div>
        </div>
	</div>
	</div>
	
    <!-- Inventory Table -->
     <div class="storagetable"> 
        <h2> STORAGE </h2>
        <table id="inventory-table">
            <thead>
            <tr>
                <th>Category</th>
                <th>Item Name</th>
                <th>Quantity</th>   
                <th>Remove</th> 
                <th>Requests</th> 
        </tr>
    </thead>
        <tbody>
            </tbody>
            </table>
     </div>
    <!--Admin Option-->
    <img src="IMAGES/lostmydawg.png" class="InventoryBag" onclick="togglePop3()">
    
    <div class="adminLend" id="Pop"> 
        <div class="overlay3" onclick="togglePop3()"> </div>
        <div class="content3">
        <div class="close3" onclick="togglePop3()"> &times; </div>
        <h1> INVENTORY </h1>

        <form action="../Storage.php" method="post">
            <div class="dropdown1">
                <label for="category">Categories</label><br>
                <select name="categories" id="category" required>
                    <option value="" disabled selected>Select a category</option>
                    <option value="1">Sports Gears</option>
                    <option value="2">School Items</option>
                    <option value="3">Library Equipments</option>
                    <option value="4">Canteen Utensils</option>
                </select>
            </div>
        
            <div class="add">
                <div class="entry">
                    <input type="text" class="inventoryInput" id="item" name="item" required>
                    <div class="label1">Add Item</div>
                </div>
            </div>
        
            <div class="quantity">
                <div class="entry">
                    <input type="number" class="inventoryInput" id="quantity" name="quantity" min="1" max="50" required>
                    <div class="label1">Enter Quantity</div>
                </div>
            </div>
        
            <input type="submit" id="submitBtn" value="Submit"> 
            <input type="reset" value="Clear">
        </form>
        </div>
    </div>


<script>
//About pop-up script
function togglePop(){
 document.getElementById("popup").classList.toggle("active");
}

//Learn pop-up script
function togglePop1(){
 document.getElementById("popup1").classList.toggle("active1");
}

//Edit Profile pop-up script
function togglePop2(){
 document.getElementById("popup2").classList.toggle("active2");
}

//Inventory form pop-up script
function togglePop3(){
 document.getElementById("Pop").classList.toggle("active3");
}

function toggleDropdown() {
    const menu = document.getElementById('menu1');
    menu.classList.toggle('active'); // Toggle the visibility of the dropdown
}

function selectOption(option) {
    const selected = document.querySelector('.selected1');
    selected.innerText = option; // Update the selected option
    toggleDropdown(); // Close the dropdown after selection
}

// Close dropdown if clicked outside
window.onclick = function(event) {
    const menu = document.getElementById('menu1');
    if (!event.target.matches('.select1') && menu.classList.contains('active')) {
        menu.classList.remove('active'); // Close the dropdown if clicking outside
    }
}

//switch page bruh
function switchPage(pageName) {
    window.location.href = pageName; 
}


//Profile header script
let subMenu = document.getElementById("subMenu");
	
	function toggleMenu(){
		subMenu.classList.toggle("open-menu");
}

// Function to fetch inventory data from PHP backend
function fetchInventoryData() {
    fetch('http://localhost/FetchStorage.php') // Adjust the path if needed
        .then(response => response.json())
        .then(data => {
            const tableBody = document.querySelector('#inventory-table tbody');
            tableBody.innerHTML = ''; // Clear any existing rows

            data.forEach(item => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${item.categories}</td>
                    <td>${item.item}</td>
                    <td>${item.quantity}</td>
                    <td><button class="remove-btn" data-id="${item.id}">Delete</button></td>
                    <td><button class="options-btn">Account Name</button></td>
                `;
                const deleteButton = row.querySelector('.remove-btn');
                deleteButton.addEventListener('click', function() {
                    const itemId = deleteButton.getAttribute('data-id'); // Get item ID
                    console.log("Item ID to delete: ", itemId);
                    deleteItem(itemId);  // Call function to delete the item
                });

                tableBody.appendChild(row);
            });
        })
        .catch(error => {
            console.error('Error fetching inventory data:', error);
        });
}

function deleteItem(itemId) {
    fetch('http://localhost/Delete.php', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
        },
        body: JSON.stringify({ id: itemId })  // Send the item ID to the backend
    })
    .then(response => response.json())
    .then(data => {
        if (data.success) {
            alert("Item deleted successfully");
            fetchInventoryData();  // Re-fetch data to update the table
        } else {
            alert("Error deleting item: " + data.message);
        }
    })
    .catch(error => {
        console.error('Error deleting item:', error);
    });
}

// Call the function when the page loads
window.onload = fetchInventoryData;

</script>
</html> 
